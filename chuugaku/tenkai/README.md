## 展開公式プリント（因数分解へのつながり）

このディレクトリは、中学生向けに「因数の形 → 展開」を練習できるシングルページ（`tenkai.html`）を提供します。因数分解（展開の逆操作）との往復で理解を深めることを目的としています。

### 主な機能
- 問題の自動生成：指定条件に基づいてランダムに出題
- 出題形式の選択：以下の形式から任意に選択して混在出題
  - 一般形 `(x + a)(x + b)`
  - 平方の公式 `(x ± a)^2`
  - 和と差の積 `(x + a)(x - a)`
  - 係数つき一般形 `(ax + b)(cx + d)`
  - 係数つき平方 `(ax ± b)^2`
  - 係数つき和差 `(ax + b)(ax - b)`
- 表示最適化：
  - 画面用は見やすい体裁（右肩の 2 は `<sup>2</sup>` で表示）
  - 解答は MathJax（TeX）で整形表示
- 印刷最適化：A4・2列レイアウト、問題のみ／解答のみの個別印刷に対応
- 学習配慮：
  - `(x + 0)` は `x` とみなして簡約表示
  - 左辺が `x^2 =` のような自明形は生成しない（設定が不可能な場合は警告表示）

### 設定項目（画面上部の「生成条件」）
- 定数の範囲：`a, b` の最小・最大値
- 負の数の許可：`a, b` に負の値を含めるか
- 重解の許可：一般形において `a = b` を許可するか
- 出題形式：上記の6形式から選択（1種類以上が必須）
- 係数の範囲：`a, c` の係数範囲（0 は自動除外）
- 問題数：10問／20問

### 使い方
1. `tenkai.html` をブラウザで開きます。
2. 生成条件（範囲・出題形式など）を設定し、「問題を生成」を押します。
3. 画面下部に「問題」と「模範解答」が表示されます。
4. 必要に応じて「問題を印刷」「解答を印刷」を押して印刷します。

### 印刷について
- A4 用紙、2列グリッドで均等配置されるよう最適化しています。
- 画面用リストは印刷時は非表示になり、印刷専用のレイアウトが使用されます。
- 問題のみ／解答のみの個別印刷に対応しています。

### 表示と数式
- 問題文（左辺）の二乗は `<sup>2</sup>` で右肩表示します。
- 解答（右辺）は TeX を MathJax で表示します。CDN を利用しているため、初回表示時にインターネット接続が必要です。

### 生成ロジック上の注意
- `(x + 0)` は `x` に、`(x + 0)(x + 0)` は `x^2` とみなして表示します。
- 左辺が `x^2 =` となるような自明形（例：`a=b=0`、`b=0` の平方・和差など）は出題から除外します。除外の結果、条件によっては所定の問題数を満たせない場合があり、その際は画面に警告を表示します。
- ランダム生成のため、同一・類似問題が出る場合があります。

### ファイル構成
- `tenkai.html`：本ページ本体（UI、生成、表示、印刷、MathJax 設定を含む）
- `README.md`：本ファイル

### 既知の制限・補足
- MathJax は CDN から読み込みます。オフラインでは解答の数式表示が正しく行われない場合があります（問題文の表示はオフラインでも可）。
- 係数つきの形式では「係数らしさ」を学習できるよう、少なくとも片方の係数を |係数|≥2 に調整する場合があります。

### 謝辞 / スタイル
- 本ページの UI と印刷最適化は、同リポジトリ内の `insuubunkai`（因数分解プリント）で用いた設計・スタイルを踏襲しています。

